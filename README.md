
# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–µ–∫—É–ø–µ—Ä–∞—Ç–æ—Ä–∞ naveka node1 —Å –ø—É–ª—å—Ç–æ–º Zentec Z031 –¥–ª—è Home Assistant

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏—Ç–æ—á–Ω–æ-–≤—ã—Ç—è–∂–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ naveka node1 —Å –ø—É–ª—å—Ç–æ–º Zentec Z031 –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É Home Assistant. –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–∫—É–ø–µ—Ä–∞—Ç–æ—Ä–∞, –Ω–æ –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–º, –∏—Å–ø–æ–ª—å–∑—É—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

–í—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É–ø–∞–∫–æ–≤–∞–Ω–∞ –≤ –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª-–ø–∞–∫–µ—Ç –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏.

![image](https://github.com/user-attachments/assets/d32a6d77-c4e7-4093-a9dc-5849a420242f)

## üöÄ –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

  * **–ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ Modbus TCP:** –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤–µ–Ω—Ç–∏–ª—è—Ç–æ—Ä–∞, –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã –∏ —Ü–µ–ª–µ–≤–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã.
  * **–ì–ª—É–±–æ–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä (–≤ –∫–∞–Ω–∞–ª–µ, –Ω–∞ —É–ª–∏—Ü–µ, –≤ –ø–æ–º–µ—â–µ–Ω–∏–∏), —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫.
  * **–ì–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:** –ü—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–µ–∂–∏–º—ã "–î–µ–Ω—å", "–ù–æ—á—å" –∏ "–ü—Ä–æ–≤–µ—Ç—Ä–∏–≤–∞–Ω–∏–µ –Ω–∞ 15 –º–∏–Ω—É—Ç".
  * **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –ê–∫–∫—É—Ä–∞—Ç–Ω–∞—è –∏ –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, —Å–æ–∑–¥–∞–Ω–Ω–∞—è –Ω–∞ –±–∞–∑–µ [Mushroom Cards](https://github.com/piitaya/lovelace-mushroom).
  * **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–µ–∂–¥—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ–º –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º Home Assistant.
  * **–ü—Ä–æ—Å—Ç–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞:** –í—Å—è –ª–æ–≥–∏–∫–∞ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ-–ø–∞–∫–µ—Ç–µ.

## ‚úÖ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1.  –†–∞–±–æ—Ç–∞—é—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä **Home Assistant** (–≤–µ—Ä—Å–∏—è 2024.x –∏–ª–∏ –Ω–æ–≤–µ–µ).
2.  –†–µ–∫—É–ø–µ—Ä–∞—Ç–æ—Ä **naveka node1 —Å –ø—É–ª—å—Ç–æ–º Zentec Z031**, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π –∫ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.
3.  –ò–∑–≤–µ—Å—Ç–Ω—ã–π **IP-–∞–¥—Ä–µ—Å** –≤–∞—à–µ–≥–æ —Ä–µ–∫—É–ø–µ—Ä–∞—Ç–æ—Ä–∞.
4.  –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π **HACS** (Home Assistant Community Store).
5.  –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ HACS –∫–∞—Ä—Ç—ã **[Mushroom](https://github.com/piitaya/lovelace-mushroom)**.

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–ø—Ä–æ—â–µ–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –º–µ—Ö–∞–Ω–∏–∑–º—É –ø–∞–∫–µ—Ç–æ–≤.

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `configuration.yaml`

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `configuration.yaml` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –ø–∞–∫–µ—Ç–æ–≤. –ï—Å–ª–∏ –Ω–µ—Ç, –¥–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å–µ–∫—Ü–∏—é:

```yaml
# configuration.yaml
homeassistant:
  packages: !include_dir_named packages
```

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –ø–∞–∫–µ—Ç–∞

1.  –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `packages` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Home Assistant (—Ç–∞–º –∂–µ, –≥–¥–µ `configuration.yaml`), –µ—Å–ª–∏ –µ–µ –µ—â–µ –Ω–µ—Ç.
2.  –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `zentec_recuperator.yaml` –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
3.  –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É `packages`.

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IP-–∞–¥—Ä–µ—Å–∞

1.  –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `packages/zentec_recuperator.yaml`.
2.  –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É `host: 192.168.1.45` –∏ **–∑–∞–º–µ–Ω–∏—Ç–µ IP-–∞–¥—Ä–µ—Å –Ω–∞ –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Ä–µ–∫—É–ø–µ—Ä–∞—Ç–æ—Ä–∞**.

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ Home Assistant

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Home Assistant, —á—Ç–æ–±—ã –æ–Ω –ø–æ–¥—Ö–≤–∞—Ç–∏–ª –Ω–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –ø–æ—è–≤—è—Ç—Å—è –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–Ω—Å–æ—Ä—ã, —Å–∫—Ä–∏–ø—Ç—ã –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏.

### –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ –ø–∞–Ω–µ–ª—å Lovelace

1.  –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∞—à—É –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Lovelace –∏ –≤–æ–π–¥–∏—Ç–µ –≤ —Ä–µ–∂–∏–º —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
2.  –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é "–†—É—á–Ω—É—é" –∫–∞—Ä—Ç–æ—á–∫—É –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –≤ –Ω–µ–µ [–∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `lovelace-card.yaml`](https://www.google.com/search?q=https-%D0%B0%D0%B4%D1%80%D0%B5%D1%81-%D0%B2%D0%B0%D1%88%D0%B5%D0%B3%D0%BE-%D1%84%D0%B0%D0%B9%D0%BB%D0%B0-lovelace.yaml).
   

## ‚öôÔ∏è –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

–í—ã –ª–µ–≥–∫–æ –º–æ–∂–µ—Ç–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `zentec_recuperator.yaml`.

  * **–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ "–î–µ–Ω—å" / "–ù–æ—á—å"**: –ù–∞–π–¥–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã `zentec_z031_night_mode` –∏ `zentec_z031_day_mode` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ (`speed`) –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã (`temperature`) –Ω–∞ –∂–µ–ª–∞–µ–º—ã–µ.

    ```yaml
    script:
      zentec_z031_night_mode:
        alias: "Zentec Z031: –ù–æ—á–Ω–æ–π —Ä–µ–∂–∏–º"
        sequence:
          - service: script.zentec_z031_set_all
            data: {state: 1, speed: 1, mode: 2, temperature: 18} # <-- –ò–∑–º–µ–Ω–∏—Ç–µ –∑–¥–µ—Å—å
    ```

  * **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫**: –ï—Å–ª–∏ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏—Ç–µ –Ω–æ–≤—ã–π –∫–æ–¥ –æ—à–∏–±–∫–∏, –ø—Ä–æ—Å—Ç–æ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–Ω—ã–π —Å–µ–Ω—Å–æ—Ä `Zentec Z031 –û–ø–∏—Å–∞–Ω–∏–µ –°—Ç–∞—Ç—É—Å–∞`.

    ```yaml
    template:
      - sensor:
          - name: "Zentec Z031 –û–ø–∏—Å–∞–Ω–∏–µ –°—Ç–∞—Ç—É—Å–∞"
            state: >
              {% set errors = {
                "0": "–°–∏—Å—Ç–µ–º–∞ –≤ –Ω–æ—Ä–º–µ",
                "999": "–ù–æ–≤–∞—è –æ—à–∏–±–∫–∞", # <-- –î–æ–±–∞–≤—å—Ç–µ —Å—é–¥–∞
                # ...
              } %}
    ```

## ü§ù –í–∫–ª–∞–¥

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é —ç—Ç–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å —Å–æ–∑–¥–∞–≤–∞—Ç—å Issues –∏–ª–∏ Pull Requests.

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

  * –ö–æ–º–∞–Ω–¥–µ **Home Assistant** –∑–∞ –ø—Ä–µ–∫—Ä–∞—Å–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è —É–º–Ω–æ–≥–æ –¥–æ–º–∞.
  * **piitaya** –∑–∞ –≤–µ–ª–∏–∫–æ–ª–µ–ø–Ω—ã–π –Ω–∞–±–æ—Ä –∫–∞—Ä—Ç Mushroom.
